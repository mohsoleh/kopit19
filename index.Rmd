---
title: "Data Covid-19 Kabupaten Pamekasan"
---

```{r setup, include=FALSE, echo=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE)
```


```{r}
library(tidyverse)
library(cluster)
library(factoextra)
library(gridExtra)
library(leaflet)
library(jsonlite)
library(maps)
```

```{r}
#1 load data covid-19 di kab Pamekasan
data <- read.csv('data/pamekasan.csv')
print(data)
```

### Statistik Data Covid-19 Kabupaten Pamekasan
```{r echo=FALSE}
#2 ambil data numerik
new_data <- data[,-1]
summary(new_data)
```
### Jarak Masing-masing Data

```{r}
#3 hitung jarak dari masing-masing data
distance <- get_dist(new_data)
#distance
fviz_dist(distance, gradient=list(low="green",mid="white",high="red"))
```

### Klastering Data Covid-19 Kab. Pamekasan
```{r}
#4 membuat klasterinf menjadi 2 kelompok
klaster <- kmeans(new_data, centers=2, nstart=25)
klaster
```
### Visualisasi Klastering Data Covid-19 

```{r}
#5 Membuat data frame untuk klaster
k = data.frame(klaster$cluster)
#print(k)
fviz_cluster(klaster, data = new_data)
```

<<<<<<< HEAD
### Visualisasi Data Covid-19

=======
>>>>>>> 1779eeb3cee185885d96246e5c70e7931b1f1085
```{r}
mapStates = map("state", fill = TRUE, plot = FALSE)
leaflet(data = mapStates) %>% addTiles() %>%
  addPolygons(fillColor = topo.colors(10, alpha = NULL), stroke = FALSE)
```
<<<<<<< HEAD
=======

```{r}
geojson <- readLines("data/us-states.js", warn = FALSE) %>%
  paste(collapse = "\n") %>%
  fromJSON(simplifyVector = FALSE)

geojson$style = list(stroke = FALSE, opacity = 1)

# Add density info
densities <- sapply(geojson$features, function(x) { x$properties$density })
pal <- colorQuantile("Greens", densities)
geojson$features <- lapply(geojson$features, function(feat) {
  feat$properties$style <- list(fillColor = pal(feat$properties$density))
  feat
})

#-7.17, 113.47

leaflet() %>%
  setView(lng = -7.17, lat = 113.47, zoom = 4) %>%
  addProviderTiles("Stamen.Toner") %>%
  addGeoJSON(geojson) %>%
  addMarkers(lat = 113.4379639, lng = -7.1547151, popup = "Wrigley Field -- Home of the Cubs!")
```
>>>>>>> 1779eeb3cee185885d96246e5c70e7931b1f1085
